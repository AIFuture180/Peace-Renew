<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Peace Renew: Free sleep cycle calculator and bedtime planner with alarm, calming sounds, and tips. Safe, no data collection.">
    <title>Peace Renew - Sleep Better Tonight | peacerenew.app</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #4DB6AC;
            --primary-light: #80CBC4;
            --primary-dark: #00897B;
            --background-dark: #1A2238;
            --background-light: #2E3951;
            --text-light: #F5F6F5;
            --text-dark: #1E2A44;
            --accent: #FFD54F;
            --danger: #FF5252;
            --card-bg: rgba(245, 246, 245, 0.08);
            --container-bg: rgba(46, 64, 87, 0.95);
            --shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 8px 16px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 12px 24px rgba(0, 0, 0, 0.3);
            --anim-duration: 0.3s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--background-dark) 0%, var(--background-light) 100%);
            color: var(--text-light);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            line-height: 1.6;
        }

        .night-sky {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background: transparent;
            overflow: hidden;
            z-index: 0;
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            opacity: 0;
            animation: twinkle var(--anim-duration) infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(0.8); }
            100% { opacity: 0.8; transform: scale(1); }
        }

        .moon {
            position: absolute;
            top: 5%;
            right: 10%;
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            box-shadow: 0 0 40px 20px rgba(255, 255, 255, 0.4);
            opacity: 0.8;
            z-index: 1;
        }

        .moon::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 15px;
            width: 15px;
            height: 15px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
        }

        .moon::after {
            content: '';
            position: absolute;
            bottom: 20px;
            right: 25px;
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
        }

        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100vw); }
        }

        header {
            position: sticky;
            top: 0;
            background: rgba(26, 34, 56, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: var(--shadow-sm);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo img {
            width: 45px;
            height: 45px;
            filter: drop-shadow(0 0 8px rgba(77, 182, 172, 0.6));
            transition: transform var(--anim-duration);
        }

        .logo:hover img {
            transform: rotate(-10deg);
        }

        h1 {
            color: var(--primary);
            font-size: 2.5em;
            font-weight: 700;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            letter-spacing: 1px;
        }

        main {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .intro {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeIn 1s ease;
        }

        .intro h2 {
            font-size: 1.8em;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .intro p {
            font-size: 1.2em;
            color: var(--text-light);
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        .container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto 40px;
            display: flex;
            flex-direction: column;
            background: var(--container-bg);
            border-radius: 20px;
            box-shadow: var(--shadow-md);
            overflow: hidden;
            transition: transform var(--anim-duration), box-shadow var(--anim-duration);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .container:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tab {
            flex: 1;
            padding: 16px;
            text-align: center;
            font-size: 1.1em;
            font-weight: 500;
            color: var(--text-light);
            background: transparent;
            border: none;
            cursor: pointer;
            transition: background var(--anim-duration);
            position: relative;
        }

        .tab.active {
            color: var(--primary);
            background: rgba(77, 182, 172, 0.1);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 40%;
            height: 3px;
            background: var(--primary);
            border-radius: 3px 3px 0 0;
        }

        .tab-content {
            padding: 30px;
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .input-group {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .input-wrapper {
            flex: 1;
            min-width: 200px;
            position: relative;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-size: 1em;
            color: var(--primary-light);
        }

        .input-icon {
            position: absolute;
            left: 15px;
            top: 42px;
            color: var(--text-dark);
            opacity: 0.7;
        }

        input[type="time"] {
            width: 100%;
            padding: 15px 15px 15px 45px;
            font-size: 1.1em;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            background: rgba(245, 246, 245, 0.9);
            color: var(--text-dark);
            transition: all var(--anim-duration);
        }

        input[type="time"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(77, 182, 172, 0.3);
        }

        .btn {
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: 500;
            color: var(--text-light);
            background: var(--primary);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all var(--anim-duration);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: var(--shadow-sm);
        }

        .btn-full {
            width: 100%;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: rgba(77, 182, 172, 0.1);
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .audio-control {
            flex: 1;
            cursor: pointer;
            padding: 12px 20px;
            background: rgba(77, 182, 172, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all var(--anim-duration);
            min-width: 200px;
        }

        .audio-control:hover {
            background: rgba(77, 182, 172, 0.2);
        }

        .audio-control i {
            font-size: 1.2em;
            color: var(--primary);
        }

        #result {
            margin-top: 30px;
        }

        .result-container {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .result-title {
            font-size: 1.3em;
            color: var(--text-light);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-title i {
            color: var(--primary);
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }

        .result-card {
            background: rgba(245, 246, 245, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all var(--anim-duration);
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
            transform: scaleX(0);
            transition: transform var(--anim-duration);
            transform-origin: left;
        }

        .result-card:hover {
            background: rgba(77, 182, 172, 0.15);
            transform: translateY(-3px);
        }

        .result-card:hover::before {
            transform: scaleX(1);
        }

        .time {
            font-size: 1.5em;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .cycles {
            font-size: 0.9em;
            color: var(--primary-light);
        }

        .quality {
            margin-top: 10px;
            font-size: 0.85em;
        }

        .quality-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .quality-best .quality-indicator {
            background: #4CAF50;
        }

        .quality-good .quality-indicator {
            background: #FFC107;
        }

        .quality-ok .quality-indicator {
            background: #FF9800;
        }

        .alarm-status {
            margin-top: 20px;
            background: rgba(255, 213, 79, 0.1);
            border: 1px solid rgba(255, 213, 79, 0.3);
            padding: 12px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: pulse 1.5s infinite;
            display: none;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        .alarm-status i {
            color: var(--accent);
        }

        .streak {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 213, 79, 0.1);
            border-radius: 12px;
            border: 1px solid rgba(255, 213, 79, 0.3);
        }

        .streak i {
            color: var(--accent);
            font-size: 1.2em;
        }

        .feature-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .feature-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            text-align: left;
            transition: transform var(--anim-duration);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 2em;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .feature-title {
            font-size: 1.3em;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .collapsible {
            margin-top: 30px;
        }

        .collapsible-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 12px;
            cursor: pointer;
            transition: background var(--anim-duration);
        }

        .collapsible-header:hover {
            background: rgba(245, 246, 245, 0.15);
        }

        .collapsible-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2em;
            font-weight: 500;
        }

        .collapsible-title i {
            color: var(--primary);
        }

        .collapsible-content {
            background: rgba(245, 246, 245, 0.05);
            padding: 20px;
            border-radius: 0 0 12px 12px;
            margin-top: 1px;
            display: none;
        }

        .collapsible-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .tip-card {
            background: rgba(245, 246, 245, 0.08);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tip-card h4 {
            color: var(--primary-light);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tip-card p {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .sound-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .sound-option {
            background: rgba(245, 246, 245, 0.08);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all var(--anim-duration);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sound-option:hover {
            background: rgba(77, 182, 172, 0.15);
        }

        .sound-option.active {
            background: rgba(77, 182, 172, 0.2);
            border-color: var(--primary);
        }

        .sound-option i {
            font-size: 1.5em;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .about-section {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 30px;
            margin-top: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .about-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .about-header i {
            font-size: 1.8em;
            color: var(--primary);
        }

        .about-content {
            font-size: 1em;
            line-height: 1.7;
        }

        .premium-banner {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
            border-radius: 16px;
            padding: 25px;
            margin: 40px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .premium-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.2) 0%, transparent 20%);
        }

        .premium-title {
            font-size: 1.8em;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .premium-title i {
            color: var(--accent);
        }

        .premium-features {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
            justify-content: center;
        }

        .premium-feature {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
        }

        .premium-feature i {
            color: var(--accent);
        }

        .btn-premium {
            background: var(--accent);
            color: var(--text-dark);
        }

        .btn-premium:hover {
            background: #FFCA28;
        }

        footer {
            background: rgba(26, 34, 56, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .footer-logo img {
            width: 35px;
            height: 35px;
        }

        .footer-logo h2 {
            color: var(--primary);
            font-size: 1.8em;
            margin: 0;
        }

        .footer-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .footer-link {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-light);
            text-decoration: none;
            transition: color var(--anim-duration);
        }

        .footer-link:hover {
            color: var(--primary);
        }

        .footer-security {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-light);
            opacity: 0.7;
            margin-top: 10px;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all var(--anim-duration);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--background-light);
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            padding: 30px;
            box-shadow: var(--shadow-lg);
            position: relative;
            transform: translateY(20px);
            transition: transform var(--anim-duration);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5em;
            color: var(--primary);
        }

        .modal-close {
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 1.5em;
            cursor: pointer;
            transition: color var(--anim-duration);
        }

        .modal-close:hover {
            color: var(--danger);
        }

        .modal-content {
            margin-bottom: 20px;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .sleep-chart {
            width: 100%;
            height: 200px;
            margin: 20px 0;
            background: rgba(245, 246, 245, 0.05);
            border-radius: 12px;
            padding: 15px;
            position: relative;
            overflow: hidden;
        }

        .chart-line {
            position: absolute;
            bottom: 15px;
            left: 15px;
            width: calc(100% - 30px);
            height: 60%;
            fill: none;
            stroke: var(--primary);
            stroke-width: 2;
            stroke-linecap: round;
        }

        .chart-area {
            position: absolute;
            bottom: 15px;
            left: 15px;
            width: calc(100% - 30px);
            height: 60%;
            fill: url(#gradient);
            opacity: 0.4;
        }

        .chart-labels {
            position: absolute;
            bottom: 0;
            left: 15px;
            width: calc(100% - 30px);
            display: flex;
            justify-content: space-between;
            padding-top: 10px;
            border-top: 1px dashed rgba(255, 255, 255, 0.2);
        }

        .chart-label {
            font-size: 0.8em;
            color: var(--text-light);
            opacity: 0.7;
            transform: translateX(-50%);
        }

        .volume-control {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 15px;
        }

        .volume-icon {
            color: var(--primary);
        }

        .volume-slider {
            flex: 1;
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            border: 2px solid var(--text-light);
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(245, 246, 245, 0.9);
            color: var(--text-dark);
            padding: 15px 25px;
            border-radius: 30px;
            box-shadow: var(--shadow-md);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 50;
            opacity: 0;
            transition: all var(--anim-duration);
        }

        .toast.active {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast i {
            color: var(--primary);
        }

        @media (max-width: 768px) {
            .moon {
                width: 60px;
                height: 60px;
                top: 10%;
                right: 5%;
            }

            .container {
                margin: 0 auto 30px;
            }

            .tab-content {
                padding: 15px;
            }

            .premium-features {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        @media (max-width: 480px) {
            .logo img {
                width: 35px;
                height: 35px;
            }

            h1 {
                font-size: 2em;
            }

            .intro h2 {
                font-size: 1.5em;
            }

            .intro p {
                font-size: 1em;
            }

            .tab-content {
                padding: 20px;
            }

            .input-group {
                flex-direction: column;
                gap: 15px;
            }

            .controls {
                flex-direction: column;
            }

            .result-grid {
                grid-template-columns: 1fr;
            }

            .feature-cards {
                grid-template-columns: 1fr;
            }

            .tabs {
                overflow-x: auto;
                white-space: nowrap;
                padding-bottom: 5px;
            }

            .tab {
                padding: 12px;
                font-size: 1em;
                min-width: 120px;
            }
        }
    </style>
</head>
<body>
    <div class="night-sky" id="night-sky"></div>
    <div class="moon"></div>
    
    <header>
        <div class="logo">
            <img src="/api/placeholder/48/48" alt="Peace Renew Logo">
            <h1>Peace Renew</h1>
        </div>
    </header>
    
    <main>
        <div class="intro">
            <h2>Plan Your Perfect Sleep</h2>
            <p>Find your ideal bedtime or wake-up time based on natural sleep cycles for more restful sleep.</p>
        </div>
        
        <div class="container">
            <div class="tabs">
                <button class="tab active" data-tab="planner">
                    <i class="fas fa-moon"></i> Sleep Planner
                </button>
                <button class="tab" data-tab="sounds">
                    <i class="fas fa-volume-up"></i> Sounds
                </button>
                <button class="tab" data-tab="tips">
                    <i class="fas fa-lightbulb"></i> Sleep Tips
                </button>
            </div>
            
            <div class="tab-content active" id="planner-tab">
                <div class="input-group">
                    <div class="input-wrapper">
                        <label class="input-label">I plan to go to bed at</label>
                        <i class="fas fa-bed input-icon"></i>
                        <input type="time" id="bedtime" placeholder="Bedtime">
                    </div>
                    
                    <div class="input-wrapper">
                        <label class="input-label">I want to wake up at</label>
                        <i class="fas fa-bell input-icon"></i>
                        <input type="time" id="wakeup" placeholder="Wake-up Time">
                    </div>
                </div>
                
                <button class="btn btn-full" id="calculate-btn">
                    <i class="fas fa-calculator"></i> Calculate Sleep Cycles
                </button>
                
                <div class="sleep-chart">
                    <svg width="100%" height="100%" viewBox="0 0 400 120">
                        <defs>
                            <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:var(--primary);stop-opacity:0.7" />
                                <stop offset="100%" style="stop-color:var(--primary);stop-opacity:0.1" />
                            </linearGradient>
                        </defs>
                        <path class="chart-line" d="M 0,100 C 40,80 80,20 120,40 C 160,60 200,10 240,30 C 280,50 320,20 360,40 C 400,60 440,10 480,30" />
                        <path class="chart-area" d="M 0,100 C 40,80 80,20 120,40 C 160,60 200,10 240,30 C 280,50 320,20 360,40 C 400,60 440,10 480,30 L 480,120 L 0,120 Z" />
                    </svg>
                    <div class="chart-labels">
                        <div class="chart-label">10 PM</div>
                        <div class="chart-label">12 AM</div>
                        <div class="chart-label">2 AM</div>
                        <div class="chart-label">4 AM</div>
                        <div class="chart-label">6 AM</div>
                    </div>
                </div>
                
                <div id="result"></div>
                
                <div class="alarm-status" id="alarm-status">
                    <i class="fas fa-bell"></i>
                    <span id="alarm-text">Alarm set for 7:30 AM</span>
                </div>
                
                <div class="streak">
                    <i class="fas fa-fire"></i>
                    <span id="streak-count">Sleep Streak: 0 days</span>
                </div>
            </div>
            
            <div class="tab-content" id="sounds-tab">
                <div class="sound-selector">
                    <div class="sound-option active" data-sound="rain">
                        <i class="fas fa-cloud-rain"></i>
                        <div>Rain</div>
                    </div>
                    <div class="sound-option" data-sound="waves">
                        <i class="fas fa-water"></i>
                        <div>Ocean Waves</div>
                    </div>
                    <div class="sound-option" data-sound="ethereal-sleep">
                        <i class="fas fa-tree"></i>
                        <div>Ethereal Sleep</div>
                    </div>
                    <div class="sound-option" data-sound="white-noise">
                        <i class="fas fa-wind"></i>
                        <div>White Noise</div>
                    </div>
                </div>
                
                <div class="volume-control">
                    <i class="fas fa-volume-down volume-icon"></i>
                    <input type="range" min="0" max="100" value="70" class="volume-slider" id="volume-slider">
                    <i class="fas fa-volume-up volume-icon"></i>
                </div>
                
                <div class="controls">
                    <button class="btn btn-full" id="play-btn">
                        <i class="fas fa-play"></i> Play Sound
                    </button>
                    <button class="btn btn-full btn-outline" id="timer-btn">
                        <i class="fas fa-clock"></i> Set Sleep Timer
                    </button>
                </div>
            </div>
            
            <div class="tab-content" id="tips-tab">
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4><i class="fas fa-moon"></i> Evening Ritual</h4>
                        <p>Dim lights 1-2 hours before bed to boost melatonin production and signal your body it's time to sleep.</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-thermometer-half"></i> Temperature</h4>
                        <p>Keep your bedroom cool (60–67°F or 15-19°C) for optimal sleep quality.</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-mobile-alt"></i> Digital Detox</h4>
                        <p>Avoid screens 30-60 minutes before bed or use blue light filtering glasses to reduce sleep disruption.</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-clock"></i> Consistency</h4>
                        <p>Go to bed and wake up at the same time daily to regulate your body's internal clock.</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-coffee"></i> Caffeine Cutoff</h4>
                        <p>Avoid caffeine at least 6 hours before bedtime to prevent sleep disruption.</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-running"></i> Exercise</h4>
                        <p>Regular exercise improves sleep quality, but try to finish workouts at least 3 hours before bedtime.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="feature-cards">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-moon"></i>
                </div>
                <h3 class="feature-title">Sleep Cycle Calculator</h3>
                <p>Get personalized bedtime and wake-up recommendations based on natural 90-minute sleep cycles.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-bell"></i>
                </div>
                <h3 class="feature-title">Smart Alarm</h3>
                <p>Set a gentle alarm that wakes you at the optimal time to feel refreshed, not groggy.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-volume-up"></i>
                </div>
                <h3 class="feature-title">Calming Sounds</h3>
                <p>Fall asleep faster with soothing sounds like rain, ocean waves, or white noise.</p>
            </div>
        </div>
        
        <div class="premium-banner">
            <h3 class="premium-title">
                <i class="fas fa-star"></i> Upgrade to Premium
            </h3>
            <p>Unlock all features and enhance your sleep experience.</p>
            
            <div class="premium-features">
                <div class="premium-feature">
                    <i class="fas fa-check"></i>
                    <span>Additional Sounds</span>
                </div>
                <div class="premium-feature">
                    <i class="fas fa-check"></i>
                    <span>Advanced Sleep Analytics</span>
                </div>
                <div class="premium-feature">
                    <i class="fas fa-check"></i>
                    <span>Sleep Score Tracker</span>
                </div>
                <div class="premium-feature">
                    <i class="fas fa-check"></i>
                    <span>Ad-Free Experience</span>
                </div>
            </div>
            
            <button class="btn btn-premium">
                <i class="fas fa-crown"></i> Upgrade Now - $1.99
            </button>
        </div>
        
        <div class="about-section">
            <div class="about-header">
                <i class="fas fa-info-circle"></i>
                <h3>About Peace Renew</h3>
            </div>
            <div class="about-content">
                <p>Peace Renew is a free, browser-based bedtime planner designed to help you optimize your sleep schedule. We calculate the best times to fall asleep or wake up based on natural sleep cycles, which typically last about 90 minutes.</p>
                <p>Our mission is to help people improve their sleep quality without intrusive technology. Peace Renew works entirely in your browser—no account needed, no data collection, and no tracking. Your privacy is our priority.</p>
                <p>Have questions or suggestions? <a href="#" id="contact-link">Contact us</a>.</p>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="footer-container">
            <div class="footer-logo">
                <img src="/api/placeholder/36/36" alt="Peace Renew Logo">
                <h2>Peace Renew</h2>
            </div>
            
            <div class="footer-links">
                <a href="#" class="footer-link">
                    <i class="fas fa-shield-alt"></i> Privacy Policy
                </a>
                <a href="#" class="footer-link">
                    <i class="fas fa-file-alt"></i> Terms of Use
                </a>
                <a href="#" class="footer-link">
                    <i class="fas fa-envelope"></i> Contact
                </a>
                <a href="#" class="footer-link">
                    <i class="fab fa-twitter"></i> Follow on X
                </a>
            </div>
            
            <div class="footer-security">
                <i class="fas fa-lock"></i>
                <span>Secured by HTTPS</span>
            </div>
        </div>
    </footer>
    
    <div class="modal-overlay" id="timer-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Set Sleep Timer</h3>
                <button class="modal-close" id="close-timer-modal">×</button>
            </div>
            <div class="modal-content">
                <p>Sound will automatically stop after:</p>
                <div class="sound-selector">
                    <div class="sound-option active" data-timer="15">15 minutes</div>
                    <div class="sound-option" data-timer="30">30 minutes</div>
                    <div class="sound-option" data-timer="60">1 hour</div>
                    <div class="sound-option" data-timer="120">2 hours</div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-outline" id="cancel-timer">Cancel</button>
                <button class="btn" id="set-timer">Set Timer</button>
            </div>
        </div>
    </div>
    
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toast-message">Timer set successfully!</span>
    </div>

    <audio id="calming-sound-rain" loop>
        <source src="/audio/calming-rain.mp3" type="audio/mp3">
        <!-- Source: https://www.youtube.com/watch?v=qUZeZd21djc&t=506s -->
    </audio>
    <audio id="calming-sound-waves" loop>
        <source src="/audio/ocean-waves.mp3" type="audio/mp3">
        <!-- Source: https://www.youtube.com/watch?v=cK5Z-crPMXc&t=1098s -->
    </audio>
    <audio id="calming-sound-ethereal-sleep" loop>
        <source src="/audio/ethereal-sleep.mp3" type="audio/mp3">
        <!-- Source: https://www.youtube.com/watch?v=pCHBEpgcuqc&t=122s -->
    </audio>
    <audio id="calming-sound-white-noise" loop>
        <source src="/audio/white-noise.mp3" type="audio/mp3">
        <!-- Source: https://www.youtube.com/watch?v=HiolzmflGEU -->
    </audio>
    <audio id="alarm-sound">
        <source src="/audio/gentle-alarm.mp3" type="audio/mp3">
    </audio>

    <script>
        // Create stars in the night sky
        function createStars() {
            const nightSky = document.getElementById('night-sky');
            const starCount = Math.floor(window.innerWidth / 8);
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                star.style.width = Math.random() * 2 + 1 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 5 + 's';
                star.style.animationDuration = Math.random() * 3 + 2 + 's';
                nightSky.appendChild(star);
            }
            
            // Create clouds
            for (let i = 0; i < 3; i++) {
                const cloud = document.createElement('div');
                cloud.classList.add('cloud');
                cloud.style.width = Math.random() * 100 + 150 + 'px';
                cloud.style.height = cloud.style.width * 0.6 + 'px';
                cloud.style.top = Math.random() * 30 + 5 + '%';
                cloud.style.left = Math.random() * 20 - 10 + '%';
                cloud.style.animationDuration = Math.random() * 60 + 120 + 's';
                cloud.style.animationDelay = Math.random() * 20 + 's';
                nightSky.appendChild(cloud);
            }
        }
        
        // Tabs functionality
        function setupTabs() {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.dataset.tab;
                    
                    // Remove active class from all tabs and content
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // Add active class to selected tab and content
                    tab.classList.add('active');
                    document.getElementById(tabId + '-tab').classList.add('active');
                });
            });
        }
        
        // Sleep calculation
        function calculateSleep() {
            const bedtimeInput = document.getElementById('bedtime').value;
            const wakeupInput = document.getElementById('wakeup').value;
            const resultDiv = document.getElementById('result');
            
            if (!bedtimeInput && !wakeupInput) {
                showToast('Please enter a bedtime or wake-up time');
                return;
            }
            
            const cycleLength = 90;
            const fallAsleepTime = 15;
            
            resultDiv.innerHTML = '<div class="result-container"><div class="result-title"><i class="fas fa-moon"></i> Your Recommended Sleep Schedule</div><div class="result-grid" id="result-grid"></div></div>';
            const resultGrid = document.getElementById('result-grid');
            
            function formatTime(hours, minutes) {
                const period = hours >= 12 ? 'PM' : 'AM';
                hours = hours % 12 || 12;
                minutes = minutes < 10 ? `0${minutes}` : minutes;
                return `${hours}:${minutes} ${period}`;
            }
            
            function timeToMinutes(timeStr) {
                const [hours, minutes] = timeStr.split(':').map(Number);
                return hours * 60 + minutes;
            }
            
            function minutesToTime(minutes) {
                const totalMinutes = minutes % (24 * 60);
                const hours = Math.floor(totalMinutes / 60);
                const mins = totalMinutes % 60;
                return formatTime(hours, mins);
            }
            
            function getSleepQuality(cycles) {
                if (cycles === 5) return 'quality-best';
                if (cycles === 6) return 'quality-good';
                return 'quality-ok';
            }
            
            function getQualityText(cycles) {
                if (cycles === 5) return 'Optimal';
                if (cycles === 6) return 'Good';
                return 'Adequate';
            }
            
            let times = [];
            
            if (bedtimeInput) {
                const bedtimeMinutes = timeToMinutes(bedtimeInput);
                const cycles = [4, 5, 6];
                
                cycles.forEach(cycle => {
                    const totalMinutes = (bedtimeMinutes + fallAsleepTime + cycle * cycleLength) % (24 * 60);
                    const timeStr = minutesToTime(totalMinutes);
                    const qualityClass = getSleepQuality(cycle);
                    const qualityText = getQualityText(cycle);
                    const hours = Math.floor(cycle * cycleLength / 60);
                    const minutes = (cycle * cycleLength) % 60;
                    
                    const resultCard = document.createElement('div');
                    resultCard.className = `result-card ${qualityClass}`;
                    resultCard.setAttribute('data-minutes', totalMinutes);
                    resultCard.innerHTML = `
                        <div class="time">${timeStr}</div>
                        <div class="cycles">${hours}h ${minutes}m • ${cycle} cycles</div>
                        <div class="quality"><span class="quality-indicator"></span>${qualityText}</div>
                    `;
                    resultCard.addEventListener('click', () => setAlarm(totalMinutes));
                    resultGrid.appendChild(resultCard);
                });
            } else if (wakeupInput) {
                const wakeupMinutes = timeToMinutes(wakeupInput);
                const cycles = [4, 5, 6];
                
                cycles.forEach(cycle => {
                    const totalMinutes = (wakeupMinutes - (cycle * cycleLength + fallAsleepTime) + 24 * 60) % (24 * 60);
                    const timeStr = minutesToTime(totalMinutes);
                    const qualityClass = getSleepQuality(cycle);
                    const qualityText = getQualityText(cycle);
                    const hours = Math.floor(cycle * cycleLength / 60);
                    const minutes = (cycle * cycleLength) % 60;
                    
                    const resultCard = document.createElement('div');
                    resultCard.className = `result-card ${qualityClass}`;
                    resultCard.setAttribute('data-minutes', totalMinutes);
                    resultCard.innerHTML = `
                        <div class="time">${timeStr}</div>
                        <div class="cycles">${hours}h ${minutes}m • ${cycle} cycles</div>
                        <div class="quality"><span class="quality-indicator"></span>${qualityText}</div>
                    `;
                    resultCard.addEventListener('click', () => setAlarm(wakeupMinutes));
                    resultGrid.appendChild(resultCard);
                });
            }
        }
        
        // Alarm functionality
        let alarmTimeout = null;
        function setAlarm(targetMinutes) {
            const now = new Date();
            let currentMinutes = now.getHours() * 60 + now.getMinutes();
            let timeToAlarm = (targetMinutes - currentMinutes + 24 * 60) % (24 * 60);
            
            if (timeToAlarm < 0) timeToAlarm += 24 * 60;
            
            if (alarmTimeout) clearTimeout(alarmTimeout);
            
            alarmTimeout = setTimeout(() => {
                const alarmAudio = document.getElementById('alarm-sound');
                alarmAudio.play();
                
                const modal = document.getElementById('timer-modal');
                modal.classList.add('active');
                document.querySelector('.modal-title').textContent = 'Time to Wake Up!';
                document.querySelector('.modal-content').innerHTML = '<p>It\'s time to start your day refreshed!</p>';
                document.querySelector('.modal-actions').innerHTML = '<button class="btn" id="stop-alarm">Dismiss</button>';
                
                document.getElementById('stop-alarm').addEventListener('click', () => {
                    alarmAudio.pause();
                    alarmAudio.currentTime = 0;
                    modal.classList.remove('active');
                });
            }, timeToAlarm * 60 * 1000);
            
            const hours = Math.floor(targetMinutes / 60) % 24;
            const mins = targetMinutes % 60;
            const timeStr = `${hours}:${mins < 10 ? '0' + mins : mins}`;
            const formattedTime = formatTime(hours, mins);
            
            document.getElementById('alarm-status').style.display = 'flex';
            document.getElementById('alarm-text').textContent = `Alarm set for ${formattedTime}`;
            
            showToast(`Alarm set for ${formattedTime}`);
            
            function formatTime(hours, minutes) {
                const period = hours >= 12 ? 'PM' : 'AM';
                hours = hours % 12 || 12;
                minutes = minutes < 10 ? `0${minutes}` : minutes;
                return `${hours}:${minutes} ${period}`;
            }
        }
        
        // Audio controls
        let isPlaying = false;
        let currentSound = 'rain';
        let timerInterval = null;
        
        function toggleAudio() {
            const audio = document.getElementById(`calming-sound-${currentSound}`);
            const playBtn = document.getElementById('play-btn');
            
            if (isPlaying) {
                audio.pause();
                playBtn.innerHTML = '<i class="fas fa-play"></i> Play Sound';
            } else {
                audio.volume = document.getElementById('volume-slider').value / 100;
                audio.play();
                playBtn.innerHTML = '<i class="fas fa-pause"></i> Pause Sound';
            }
            
            isPlaying = !isPlaying;
        }
        
        function setupSoundOptions() {
            const soundOptions = document.querySelectorAll('.sound-option[data-sound]');
            soundOptions.forEach(option => {
                option.addEventListener('click', () => {
                    // Stop current sound if playing
                    if (isPlaying) {
                        const currentAudio = document.getElementById(`calming-sound-${currentSound}`);
                        currentAudio.pause();
                        currentAudio.currentTime = 0;
                    }
                    
                    // Update active class
                    soundOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    
                    // Update current sound
                    currentSound = option.dataset.sound;
                    
                    // Play new sound if we were playing before
                    if (isPlaying) {
                        const newAudio = document.getElementById(`calming-sound-${currentSound}`);
                        newAudio.volume = document.getElementById('volume-slider').value / 100;
                        newAudio.play();
                    }
                });
            });
        }
        
        function setupVolumeControl() {
            const volumeSlider = document.getElementById('volume-slider');
            volumeSlider.addEventListener('input', () => {
                const audio = document.getElementById(`calming-sound-${currentSound}`);
                audio.volume = volumeSlider.value / 100;
            });
        }
        
        // Sleep timer functionality
        function setupTimerModal() {
            const timerBtn = document.getElementById('timer-btn');
            const timerModal = document.getElementById('timer-modal');
            const closeBtn = document.getElementById('close-timer-modal');
            const cancelBtn = document.getElementById('cancel-timer');
            const setTimerBtn = document.getElementById('set-timer');
            
            timerBtn.addEventListener('click', () => {
                timerModal.classList.add('active');
            });
            
            closeBtn.addEventListener('click', () => {
                timerModal.classList.remove('active');
            });
            
            cancelBtn.addEventListener('click', () => {
                timerModal.classList.remove('active');
            });
            
            setTimerBtn.addEventListener('click', () => {
                const selectedOption = document.querySelector('.sound-option[data-timer].active');
                if (selectedOption) {
                    const minutes = parseInt(selectedOption.dataset.timer);
                    setSleepTimer(minutes);
                    timerModal.classList.remove('active');
                }
            });
            
            const timerOptions = document.querySelectorAll('.sound-option[data-timer]');
            timerOptions.forEach(option => {
                option.addEventListener('click', () => {
                    timerOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                });
            });
        }
        
        function setSleepTimer(minutes) {
            if (timerInterval) {
                clearTimeout(timerInterval);
            }
            
            timerInterval = setTimeout(() => {
                if (isPlaying) {
                    const audio = document.getElementById(`calming-sound-${currentSound}`);
                    audio.pause();
                    audio.currentTime = 0;
                    isPlaying = false;
                    document.getElementById('play-btn').innerHTML = '<i class="fas fa-play"></i> Play Sound';
                }
            }, minutes * 60 * 1000);
            
            showToast(`Sleep timer set for ${minutes} minutes`);
        }
        
        // Toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            
            toastMessage.textContent = message;
            toast.classList.add('active');
            
            setTimeout(() => {
                toast.classList.remove('active');
            }, 3000);
        }
        
        // Streak counter
        function setupStreak() {
            let streak = localStorage.getItem('sleepStreak') || 0;
            let lastVisit = localStorage.getItem('lastVisit') || null;
            const today = new Date().toDateString();
            
            if (lastVisit !== today) {
                streak = parseInt(streak) + 1;
                localStorage.setItem('sleepStreak', streak);
                localStorage.setItem('lastVisit', today);
            }
            
            document.getElementById('streak-count').innerText = `Sleep Streak: ${streak} days`;
        }
        
        // Initialize everything
        document.addEventListener('DOMContentLoaded', () => {
            createStars();
            setupTabs();
            setupSoundOptions();
            setupVolumeControl();
            setupTimerModal();
            setupStreak();
            
            document.getElementById('calculate-btn').addEventListener('click', calculateSleep);
            document.getElementById('play-btn').addEventListener('click', toggleAudio);
            
            // Contact link
            document.getElementById('contact-link').addEventListener('click', (e) => {
                e.preventDefault();
                showToast('Contact form coming soon!');
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93cd82fee8ac44e8',t:'MTc0Njc1NTA2Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>
